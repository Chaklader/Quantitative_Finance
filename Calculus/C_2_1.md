# C-2: Derivatives

1. Derivatives and Rates of Change

    - The Derivative as a Limit: From Intuition to Precision
    - Geometric Meaning: Tangent Lines and Local Linearity
    - Physical Interpretation: Velocity and Instantaneous Change
    - Notation Systems and Their Significance
    - Differentiability vs. Continuity: A Delicate Relationship

2. The Derivative as a Function

    - From Point Derivatives to Derivative Functions
    - Graphical Analysis: Reading the Story of Change
    - Higher-Order Derivatives: Acceleration and Beyond
    - Smoothness and Differentiability Classes
    - Constructing Derivative Functions: Methods and Meaning

3. Differentiation Formulas

    - The Power Rule: Foundation of Algebraic Differentiation
    - Linearity of Differentiation: Sum and Constant Multiple Rules
    - Product Rule: When Functions Multiply
    - Quotient Rule: Division and Its Complexities
    - Building a Differentiation Toolkit

4. Derivatives of Trigonometric Functions

    - Fundamental Limits and Basic Derivatives
    - The Sine and Cosine Connection
    - Derivatives of Other Trigonometric Functions
    - Trigonometric Identities in Differentiation
    - Applications to Periodic Phenomena

5. The Chain Rule

    - Composition and the Chain of Rates
    - Understanding the Chain Rule: Multiple Perspectives
    - Nested Functions and Repeated Application
    - Implicit Chain Rule Applications
    - The Chain Rule as a Unifying Principle

6. Implicit Differentiation

    - When Functions Hide in Equations
    - The Technique of Implicit Differentiation
    - Geometric Applications: Tangents to Implicit Curves
    - Higher-Order Implicit Derivatives
    - Related Rates Preview

7. Rates of Change in the Natural and Social Sciences

    - Physics: Motion, Forces, and Fields
    - Biology: Growth, Decay, and Population Dynamics
    - Economics: Marginal Analysis and Optimization
    - Chemistry: Reaction Rates and Equilibrium
    - Social Sciences: Modeling Change in Human Systems

8. Related Rates

    - The Interconnected World of Changing Quantities
    - Setting Up Related Rates Problems
    - Geometric Related Rates
    - Physical and Engineering Applications
    - Common Pitfalls and Problem-Solving Strategies

9. Linear Approximations and Differentials
    - The Tangent Line as Best Linear Approximation
    - Differentials: A New Perspective on Change
    - Error Analysis and Propagation
    - Applications in Measurement and Estimation
    - Extending to Multiple Variables: Total Differentials

The concept of the derivative stands as one of the most profound achievements in mathematics, providing a precise
language for describing change. From the motion of planets to the growth of populations, from the fluctuations of
markets to the flow of electric current, derivatives capture the essence of how things vary. This chapter develops the
theory of derivatives from first principles, building a comprehensive framework for understanding and calculating rates
of change.

#### The Derivative as a Limit: From Intuition to Precision

The journey toward understanding derivatives begins with a deceptively simple question: what does it mean for something
to change at a particular instant? This question puzzled mathematicians for centuries because an instant has no
duration—how can change occur in no time at all?

##### The Fundamental Problem of Instantaneous Change

Consider a car traveling along a highway. We can easily calculate its average speed over an hour by dividing the
distance traveled by the time elapsed. But what about its speed at exactly 2:00 PM? At that precise moment, no time
passes and no distance is covered, yet we intuitively understand that the car has a definite speed. This
paradox—measuring change at an instant—lies at the heart of differential calculus.

The resolution comes through the concept of limits. Instead of trying to measure change at an instant, we measure
average rates of change over smaller and smaller time intervals, then examine what happens as these intervals shrink
toward zero.

**Definition of the Derivative**: For a function $f$ defined on an interval containing the point $a$, the derivative of
$f$ at $a$ is defined as:

$$f'(a) = \lim_{h \to 0} \frac{f(a+h) - f(a)}{h}$$

provided this limit exists. When it does, we say $f$ is differentiable at $a$.

Let's unpack this definition carefully. The expression $\frac{f(a+h) - f(a)}{h}$ represents the average rate of change
of $f$ over the interval from $a$ to $a+h$. As $h$ approaches zero, this interval shrinks, and the average rate of
change approaches what we call the instantaneous rate of change.

**Alternative Form**: We can express the same limit using a slightly different notation:

$$f'(a) = \lim_{x \to a} \frac{f(x) - f(a)}{x - a}$$

This form sometimes provides computational advantages and emphasizes that we're examining the behavior of the difference
quotient as $x$ approaches $a$.

```mermaid
flowchart TD
    A["Question: What is the<br>instantaneous rate of change<br>at x = a?"] --> B["Average rate of change<br>over interval [a, a+h]:<br>(f(a+h) - f(a))/h"]
    B --> C["Make interval smaller<br>Let h approach 0"]
    C --> D["Difference quotient<br>approaches a limit"]
    D --> E["Derivative f'(a) =<br>lim[h→0] (f(a+h) - f(a))/h"]
    E --> F["Instantaneous rate<br>of change at x = a"]

    style A fill:#E3F2FD
    style B fill:#BBDEFB
    style C fill:#90CAF9
    style D fill:#64B5F6
    style E fill:#42A5F5
    style F fill:#2196F3
```

**Example - Computing a Derivative from the Definition**: Let's find the derivative of $f(x) = x^2$ at $x = 3$ using the
definition.

We need to evaluate: $$f'(3) = \lim_{h \to 0} \frac{f(3+h) - f(3)}{h}$$

First, let's compute the difference quotient:
$$\frac{f(3+h) - f(3)}{h} = \frac{(3+h)^2 - 3^2}{h} = \frac{9 + 6h + h^2 - 9}{h} = \frac{6h + h^2}{h}$$

For $h \neq 0$, we can simplify: $$\frac{6h + h^2}{h} = \frac{h(6 + h)}{h} = 6 + h$$

Now we can evaluate the limit: $$f'(3) = \lim_{h \to 0} (6 + h) = 6$$

Therefore, the instantaneous rate of change of $f(x) = x^2$ at $x = 3$ is 6.

**The Derivative Function**: Rather than computing the derivative at each point separately, we can find a general
formula for $f'(x)$. For $f(x) = x^2$:

$$f'(x) = \lim_{h \to 0} \frac{(x+h)^2 - x^2}{h} = \lim_{h \to 0} \frac{x^2 + 2xh + h^2 - x^2}{h} = \lim_{h \to 0} \frac{2xh + h^2}{h}$$

Simplifying for $h \neq 0$: $$f'(x) = \lim_{h \to 0} (2x + h) = 2x$$

This gives us the derivative function $f'(x) = 2x$, which tells us the rate of change at any point $x$.

##### Geometric Meaning: Tangent Lines and Local Linearity

The derivative has a beautiful geometric interpretation that connects algebra with geometry. At any point on a smooth
curve, the derivative gives the slope of the tangent line—the line that best approximates the curve near that point.

**From Secant to Tangent**: Consider a curve $y = f(x)$ and a point $P(a, f(a))$ on this curve. If we choose another
point $Q(a+h, f(a+h))$ on the curve, the line through $P$ and $Q$ is called a secant line. The slope of this secant line
is:

$$m_{\text{secant}} = \frac{f(a+h) - f(a)}{h}$$

As $Q$ approaches $P$ (equivalently, as $h$ approaches 0), the secant line rotates around $P$, approaching a limiting
position. This limiting line is the tangent line, and its slope is the derivative $f'(a)$.

**Equation of the Tangent Line**: Once we know the derivative at a point, we can write the equation of the tangent line.
At the point $(a, f(a))$ with slope $f'(a)$, the tangent line has equation:

$$y - f(a) = f'(a)(x - a)$$

or equivalently:

$$y = f(a) + f'(a)(x - a)$$

This linear function provides the best linear approximation to $f$ near $x = a$.

**Local Linearity**: One of the most important properties of differentiable functions is that they look approximately
linear when we "zoom in" sufficiently close to any point. This property, called local linearity, means that near
$x = a$:

$$f(x) \approx f(a) + f'(a)(x - a)$$

The approximation becomes increasingly accurate as $x$ approaches $a$. This principle underlies many applications, from
numerical methods to physics simulations.

```mermaid
flowchart LR
    A["Curve y = f(x)<br>Point P(a, f(a))"] --> B["Secant line through<br>P and Q(a+h, f(a+h))"]
    B --> C["Slope of secant:<br>m = (f(a+h) - f(a))/h"]
    C --> D["Let h → 0<br>Q approaches P"]
    D --> E["Secant approaches<br>tangent line"]
    E --> F["Slope of tangent:<br>m = f'(a)"]
    F --> G["Tangent line equation:<br>y = f(a) + f'(a)(x - a)"]

    style A fill:#FFF3E0
    style B fill:#FFE0B2
    style C fill:#FFCC80
    style D fill:#FFB74D
    style E fill:#FFA726
    style F fill:#FF9800
    style G fill:#F57C00
```

**Example - Finding a Tangent Line**: Find the equation of the tangent line to $f(x) = \sqrt{x}$ at $x = 4$.

First, we need $f(4) = \sqrt{4} = 2$.

Next, we find the derivative. Using the definition: $$f'(x) = \lim_{h \to 0} \frac{\sqrt{x+h} - \sqrt{x}}{h}$$

This limit requires some algebraic manipulation. We multiply by the conjugate:
$$f'(x) = \lim_{h \to 0} \frac{\sqrt{x+h} - \sqrt{x}}{h} \cdot \frac{\sqrt{x+h} + \sqrt{x}}{\sqrt{x+h} + \sqrt{x}}$$

$$= \lim_{h \to 0} \frac{(x+h) - x}{h(\sqrt{x+h} + \sqrt{x})} = \lim_{h \to 0} \frac{h}{h(\sqrt{x+h} + \sqrt{x})}$$

$$= \lim_{h \to 0} \frac{1}{\sqrt{x+h} + \sqrt{x}} = \frac{1}{2\sqrt{x}}$$

Therefore, $f'(4) = \frac{1}{2\sqrt{4}} = \frac{1}{4}$.

The tangent line equation is: $$y - 2 = \frac{1}{4}(x - 4)$$ $$y = \frac{1}{4}x + 1$$

##### Physical Interpretation: Velocity and Instantaneous Change

The derivative's most intuitive interpretation comes from physics, where it represents instantaneous velocity. This
connection motivated much of the historical development of calculus.

**Position and Velocity**: If $s(t)$ represents the position of an object at time $t$, then:

- Average velocity over $[t, t+h]$: $v_{\text{avg}} = \frac{s(t+h) - s(t)}{h}$
- Instantaneous velocity at time $t$: $v(t) = s'(t) = \lim_{h \to 0} \frac{s(t+h) - s(t)}{h}$

**Example - Free Fall**: An object dropped from rest falls according to $s(t) = 16t^2$ feet after $t$ seconds (ignoring
air resistance). Find its velocity at $t = 2$ seconds.

Using the derivative: $$v(t) = s'(t) = \lim_{h \to 0} \frac{16(t+h)^2 - 16t^2}{h}$$

$$= \lim_{h \to 0} \frac{16t^2 + 32th + 16h^2 - 16t^2}{h} = \lim_{h \to 0} \frac{32th + 16h^2}{h} = \lim_{h \to 0} (32t + 16h) = 32t$$

Therefore, $v(2) = 32(2) = 64$ feet per second.

**General Rates of Change**: The derivative concept extends beyond velocity to any rate of change:

- Temperature change: If $T(t)$ is temperature at time $t$, then $T'(t)$ is the rate of temperature change
- Population growth: If $P(t)$ is population size, then $P'(t)$ is the growth rate
- Chemical reactions: If $C(t)$ is concentration, then $C'(t)$ is the reaction rate
- Economics: If $C(x)$ is the cost of producing $x$ items, then $C'(x)$ is the marginal cost

This universality makes derivatives indispensable across sciences and engineering.

##### Notation Systems and Their Significance

Different notation systems for derivatives reflect different perspectives and serve different purposes. Understanding
these notations helps in reading mathematical literature and choosing the most appropriate notation for a given context.

**Leibniz Notation**: Gottfried Wilhelm Leibniz introduced the notation $\frac{dy}{dx}$, which emphasizes the derivative
as a ratio of infinitesimal changes. While not literally a fraction, this notation:

- Suggests the limit of the ratio $\frac{\Delta y}{\Delta x}$
- Makes the chain rule intuitive: $\frac{dy}{dx} = \frac{dy}{du} \cdot \frac{du}{dx}$
- Clearly shows which variable is changing and which is the independent variable
- Facilitates integration by substitution

For higher derivatives, Leibniz notation becomes:

- Second derivative: $\frac{d^2y}{dx^2}$
- Third derivative: $\frac{d^3y}{dx^3}$
- $n$th derivative: $\frac{d^ny}{dx^n}$

**Lagrange Notation**: Joseph-Louis Lagrange introduced the prime notation $f'(x)$, which is:

- Compact and convenient for functions given by formulas
- Clear when dealing with function composition
- Easy to write for lower-order derivatives

For higher derivatives:

- Second derivative: $f''(x)$
- Third derivative: $f'''(x)$
- Fourth derivative: $f^{(4)}(x)$
- $n$th derivative: $f^{(n)}(x)$

**Newton Notation**: Isaac Newton used dots above variables, primarily for time derivatives:

- First derivative: $\dot{x}$ (velocity if $x$ is position)
- Second derivative: $\ddot{x}$ (acceleration)

This notation remains popular in physics and engineering, especially for time-dependent quantities.

**Operator Notation**: The derivative can be viewed as an operator $D$ that acts on functions:

- $Df = f'$
- $D^2f = f''$
- $D^nf = f^{(n)}$

This perspective is useful in differential equations and functional analysis.

**Example - Same Derivative, Different Notations**: For $y = x^3 - 2x + 1$:

- Leibniz: $\frac{dy}{dx} = 3x^2 - 2$
- Lagrange: $f'(x) = 3x^2 - 2$
- Newton (if $x = x(t)$): $\dot{y} = (3x^2 - 2)\dot{x}$
- Operator: $D(x^3 - 2x + 1) = 3x^2 - 2$

Each notation emphasizes different aspects of the derivative concept.

##### Differentiability vs. Continuity: A Delicate Relationship

The relationship between differentiability and continuity reveals important subtleties about function behavior. While
these concepts are related, they are not equivalent.

**Theorem (Differentiability Implies Continuity)**: If a function $f$ is differentiable at a point $a$, then $f$ is
continuous at $a$.

**Proof**: We need to show that $\lim_{x \to a} f(x) = f(a)$, which is equivalent to showing that
$\lim_{x \to a} [f(x) - f(a)] = 0$.

For $x \neq a$, we can write: $$f(x) - f(a) = \frac{f(x) - f(a)}{x - a} \cdot (x - a)$$

Taking the limit as $x \to a$:
$$\lim_{x \to a} [f(x) - f(a)] = \lim_{x \to a} \frac{f(x) - f(a)}{x - a} \cdot \lim_{x \to a} (x - a)$$

Since $f$ is differentiable at $a$, the first limit exists and equals $f'(a)$. The second limit is clearly 0. Therefore:
$$\lim_{x \to a} [f(x) - f(a)] = f'(a) \cdot 0 = 0$$

This proves that $\lim_{x \to a} f(x) = f(a)$, so $f$ is continuous at $a$. ∎

**The Converse is False**: Continuity does not imply differentiability. A function can be continuous at a point but fail
to have a derivative there. Let's examine the classic counterexamples:

**Example 1 - The Absolute Value Function**: Consider $f(x) = |x|$ at $x = 0$.

This function is continuous at 0 since $\lim_{x \to 0} |x| = 0 = |0|$.

However, the derivative at 0 would be: $$f'(0) = \lim_{h \to 0} \frac{|0+h| - |0|}{h} = \lim_{h \to 0} \frac{|h|}{h}$$

From the right: $\lim_{h \to 0^+} \frac{h}{h} = 1$ From the left: $\lim_{h \to 0^-} \frac{-h}{h} = -1$

Since the one-sided limits differ, the derivative doesn't exist at $x = 0$. Geometrically, the graph has a sharp corner
at the origin.

**Example 2 - The Cube Root Function**: Consider $f(x) = x^{1/3}$ at $x = 0$.

This function is continuous everywhere. At $x = 0$:
$$f'(0) = \lim_{h \to 0} \frac{h^{1/3} - 0}{h} = \lim_{h \to 0} \frac{1}{h^{2/3}}$$

This limit is infinite, so the derivative doesn't exist. Geometrically, the graph has a vertical tangent at the origin.

**Example 3 - A Wildly Oscillating Function**: Consider:

$$
f(x) = \begin{cases}
x^2 \sin(1/x) & \text{if } x \neq 0 \\
0 & \text{if } x = 0
\end{cases}
$$

This function is continuous at 0 (provable using the squeeze theorem). However, when we try to find the derivative at 0:
$$f'(0) = \lim_{h \to 0} \frac{h^2 \sin(1/h) - 0}{h} = \lim_{h \to 0} h \sin(1/h)$$

While this limit exists and equals 0 (by the squeeze theorem), making $f$ differentiable at 0, the derivative function
$f'(x) = 2x\sin(1/x) - \cos(1/x)$ for $x \neq 0$ is not continuous at 0. This shows that even when a derivative exists,
it need not be continuous.

```mermaid
flowchart TD
    A["Function f at point a"] --> B{Differentiable<br>at a?}
    B -->|Yes| C["f is continuous at a<br>(Theorem)"]
    B -->|No| D{Continuous<br>at a?}
    D -->|Yes| E["Examples:<br>• |x| at x=0 (corner)<br>• x^(1/3) at x=0 (vertical tangent)<br>• Oscillating functions"]
    D -->|No| F["f is neither continuous<br>nor differentiable at a"]

    style A fill:#E8EAF6
    style B fill:#C5CAE9
    style C fill:#4CAF50
    style D fill:#9FA8DA
    style E fill:#FFA726
    style F fill:#EF5350
```

**Types of Non-Differentiability**: When a continuous function fails to be differentiable, it typically falls into one
of these categories:

1. **Corners (Sharp Turns)**: Like $|x|$ at $x = 0$, where left and right derivatives exist but differ
2. **Cusps**: Like $x^{2/3}$ at $x = 0$, where the curve comes to a sharp point
3. **Vertical Tangents**: Like $x^{1/3}$ at $x = 0$, where the slope becomes infinite
4. **Wild Oscillation**: Like $x \sin(1/x)$ near $x = 0$, where the function oscillates too rapidly

Understanding these distinctions helps us appreciate why differentiability is a stronger condition than continuity,
requiring not just that a function has no gaps, but that it has a well-defined direction at each point.

#### The Derivative as a Function

Having established the derivative at individual points, we now shift perspective to view the derivative as a function in
its own right. This viewpoint reveals patterns, enables powerful computational techniques, and provides deeper insights
into function behavior.

##### From Point Derivatives to Derivative Functions

The transition from thinking about $f'(a)$ (the derivative at a specific point) to $f'(x)$ (the derivative function)
represents a crucial conceptual leap. Instead of asking "what is the rate of change at this particular point?", we ask
"what is the formula that gives the rate of change at any point?"

**The Derivative Function**: Given a function $f$, its derivative function $f'$ is defined by:
$$f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h}$$

at each point $x$ where this limit exists. The domain of $f'$ consists of all points where $f$ is differentiable.

**Example - From Points to Function**: Let's find the derivative function for $f(x) = x^3 - 2x$.

Starting with the definition: $$f'(x) = \lim_{h \to 0} \frac{[(x+h)^3 - 2(x+h)] - [x^3 - 2x]}{h}$$

Expanding $(x+h)^3 = x^3 + 3x^2h + 3xh^2 + h^3$:
$$f'(x) = \lim_{h \to 0} \frac{x^3 + 3x^2h + 3xh^2 + h^3 - 2x - 2h - x^3 + 2x}{h}$$

$$= \lim_{h \to 0} \frac{3x^2h + 3xh^2 + h^3 - 2h}{h}$$

$$= \lim_{h \to 0} \frac{h(3x^2 + 3xh + h^2 - 2)}{h}$$

For $h \neq 0$: $$= \lim_{h \to 0} (3x^2 + 3xh + h^2 - 2) = 3x^2 - 2$$

Therefore, $f'(x) = 3x^2 - 2$. This single formula tells us the rate of change at any point.

**The Power of the Function Perspective**: Viewing the derivative as a function enables us to:

1. Find rates of change efficiently at multiple points
2. Analyze where functions increase or decrease
3. Locate extreme values
4. Study the derivative's own properties
5. Apply the differentiation process repeatedly

##### Graphical Analysis: Reading the Story of Change

The relationship between a function and its derivative provides a powerful tool for understanding function behavior. By
examining the derivative's graph, we can deduce essential features of the original function.

**Key Relationships**:

1. **Sign of $f'(x)$**:

    - Where $f'(x) > 0$: $f$ is increasing
    - Where $f'(x) < 0$: $f$ is decreasing
    - Where $f'(x) = 0$: $f$ has a horizontal tangent (critical point)

2. **Magnitude of $f'(x)$**:

    - Large $|f'(x)|$: $f$ is changing rapidly (steep slope)
    - Small $|f'(x)|$: $f$ is changing slowly (gentle slope)

3. **Behavior of $f'(x)$**:
    - If $f'$ is increasing: $f$ is concave up
    - If $f'$ is decreasing: $f$ is concave down
    - If $f'$ has an extreme value: $f$ has an inflection point

```mermaid
flowchart TD
    A["Original Function f(x)"] --> B["Derivative f'(x)"]
    B --> C{f'(x) > 0?}
    C -->|Yes| D["f is increasing"]
    C -->|No| E{f'(x) < 0?}
    E -->|Yes| F["f is decreasing"]
    E -->|No| G["f'(x) = 0<br>Critical point"]

    B --> H{f' increasing?}
    H -->|Yes| I["f is concave up"]
    H -->|No| J["f is concave down"]

    style A fill:#E8F5E9
    style B fill:#C8E6C9
    style C fill:#A5D6A7
    style D fill:#81C784
    style E fill:#66BB6A
    style F fill:#4CAF50
    style G fill:#FFB74D
    style H fill:#B2DFDB
    style I fill:#80CBC4
    style J fill:#4DB6AC
```

**Example - Analyzing Function Behavior**: Given $f(x) = x^3 - 3x^2 - 9x + 5$, analyze its behavior using the
derivative.

First, find the derivative: $$f'(x) = 3x^2 - 6x - 9 = 3(x^2 - 2x - 3) = 3(x - 3)(x + 1)$$

Critical points occur where $f'(x) = 0$:

- $x = 3$ and $x = -1$

Sign analysis of $f'(x)$:

- For $x < -1$: both factors are negative, so $f'(x) > 0$ (f increasing)
- For $-1 < x < 3$: factors have opposite signs, so $f'(x) < 0$ (f decreasing)
- For $x > 3$: both factors are positive, so $f'(x) > 0$ (f increasing)

This tells us:

- $f$ has a local maximum at $x = -1$
- $f$ has a local minimum at $x = 3$
- $f$ increases on $(-\infty, -1) \cup (3, \infty)$
- $f$ decreases on $(-1, 3)$

**Constructing Graphs from Derivative Information**: We can sketch a function knowing only its derivative's behavior:

1. Identify where $f' = 0$ (critical points)
2. Determine the sign of $f'$ in each interval
3. Note any discontinuities or asymptotes in $f'$
4. Sketch $f$ as increasing where $f' > 0$ and decreasing where $f' < 0$
5. Include horizontal tangents at critical points

This process, working backwards from derivative to function, deepens our understanding of the derivative-function
relationship.

##### Higher-Order Derivatives: Acceleration and Beyond

Just as we can differentiate a function to get its derivative, we can differentiate the derivative to get the second
derivative, and continue this process to obtain higher-order derivatives. Each level provides additional information
about the function's behavior.

**Notation for Higher Derivatives**:

- Second derivative: $f''(x)$, $\frac{d^2y}{dx^2}$, $\ddot{y}$, $D^2f$
- Third derivative: $f'''(x)$, $\frac{d^3y}{dx^3}$, $\dddot{y}$, $D^3f$
- $n$th derivative: $f^{(n)}(x)$, $\frac{d^ny}{dx^n}$, $D^nf$

**Physical Interpretations**: For position $s(t)$:

- First derivative $s'(t) = v(t)$: velocity
- Second derivative $s''(t) = v'(t) = a(t)$: acceleration
- Third derivative $s'''(t) = a'(t) = j(t)$: jerk (rate of change of acceleration)
- Fourth derivative $s^{(4)}(t)$: snap
- Fifth derivative $s^{(5)}(t)$: crackle
- Sixth derivative $s^{(6)}(t)$: pop

These higher derivatives, while having whimsical names, appear in engineering applications like ride comfort analysis
and mechanical stress calculations.

**Geometric Meaning of the Second Derivative**:

- $f''(x) > 0$: The graph is concave up (shaped like ∪)
- $f''(x) < 0$: The graph is concave down (shaped like ∩)
- $f''(x) = 0$: Possible inflection point (where concavity changes)

**Example - Complete Analysis Using Multiple Derivatives**: Analyze $f(x) = x^4 - 4x^3 + 4x^2$.

First derivative: $$f'(x) = 4x^3 - 12x^2 + 8x = 4x(x^2 - 3x + 2) = 4x(x-1)(x-2)$$

Second derivative: $$f''(x) = 12x^2 - 24x + 8 = 4(3x^2 - 6x + 2)$$

Critical points from $f'(x) = 0$: $x = 0, 1, 2$

To classify these critical points, we use the second derivative test:

- At $x = 0$: $f''(0) = 8 > 0$, so local minimum
- At $x = 1$: $f''(1) = 12 - 24 + 8 = -4 < 0$, so local maximum
- At $x = 2$: $f''(2) = 48 - 48 + 8 = 8 > 0$, so local minimum

For inflection points, solve $f''(x) = 0$: $$3x^2 - 6x + 2 = 0$$
$$x = \frac{6 \pm \sqrt{36-24}}{6} = \frac{6 \pm 2\sqrt{3}}{6} = 1 \pm \frac{\sqrt{3}}{3}$$

The complete analysis reveals the function's shape: two valleys separated by a hill, with two inflection points where
the concavity changes.

**Theorem (Existence of Higher Derivatives)**: If $f^{(n)}(a)$ exists, then $f^{(n-1)}$ is continuous at $a$. However,
the converse is false—continuity of $f^{(n-1)}$ doesn't guarantee existence of $f^{(n)}$.

This theorem highlights the increasingly stringent requirements for higher-order differentiability.

##### Smoothness and Differentiability Classes

Mathematicians classify functions by their degree of smoothness, which relates to how many continuous derivatives they
possess. This classification provides a precise language for discussing function regularity.

**Differentiability Classes**:

- $C^0$: Continuous functions
- $C^1$: Continuously differentiable functions (derivative exists and is continuous)
- $C^2$: Twice continuously differentiable functions
- $C^n$: Functions with $n$ continuous derivatives
- $C^\infty$: Infinitely differentiable (smooth) functions
- $C^\omega$: Analytic functions (locally equal to their Taylor series)

**Hierarchy**: Each class is contained in the previous one:
$$C^\omega \subset C^\infty \subset \cdots \subset C^2 \subset C^1 \subset C^0$$

**Examples of Different Smoothness Classes**:

1. **$C^0$ but not $C^1$**: $f(x) = |x|$

    - Continuous everywhere
    - Not differentiable at $x = 0$

2. **$C^1$ but not $C^2$**:

    $$
    f(x) = \begin{cases}
    x^2 & \text{if } x \geq 0 \\
    -x^2 & \text{if } x < 0
    \end{cases}
    $$

    - $f'(x) = 2|x|$ is continuous
    - $f''(0)$ doesn't exist

3. **$C^\infty$ but not $C^\omega$**:

    $$
    f(x) = \begin{cases}
    e^{-1/x^2} & \text{if } x \neq 0 \\
    0 & \text{if } x = 0
    \end{cases}
    $$

    - All derivatives exist and equal 0 at $x = 0$
    - Taylor series at 0 is identically 0, but $f(x) \neq 0$ for $x \neq 0$
    - Hence not analytic at 0

4. $C^\omega$ (Analytic): Polynomials, $e^x$, $\sin x$, $\cos x$

    - Equal to their Taylor series in a neighborhood of each point

**Importance of Smoothness**:

1. **Numerical Methods**: Higher smoothness allows better approximations
2. **Differential Equations**: Solutions often required to be in specific classes
3. **Physics**: Physical quantities often assumed to be $C^\infty$
4. **Optimization**: Smoothness determines which optimization methods apply

**A Remarkable Function**: The function mentioned above deserves special attention as it challenges intuition:

$$f(x) = \begin{cases} e^{-1/x^2} & \text{if } x \neq 0 \ 0 & \text{if } x = 0 \end{cases}$$

**Proof that all derivatives at 0 equal 0**: We'll show by induction that $f^{(n)}(0) = 0$ for all $n \geq 0$.

For $n = 0$: $f(0) = 0$ by definition.

For $n = 1$: $$f'(0) = \lim_{h \to 0} \frac{f(h) - f(0)}{h} = \lim_{h \to 0} \frac{e^{-1/h^2}}{h}$$

Let $u = 1/h$, so as $h \to 0^+$, $u \to +\infty$:
$$\lim_{h \to 0^+} \frac{e^{-1/h^2}}{h} = \lim_{u \to +\infty} ue^{-u^2}$$

Since $e^{-u^2}$ decreases faster than any polynomial grows, this limit is 0. Similarly from the left, so $f'(0) = 0$.

For $x \neq 0$, derivatives have the form: $$f^{(n)}(x) = \frac{P_n(1/x)}{x^{2n}} e^{-1/x^2}$$

where $P_n$ is a polynomial. By induction and similar limit arguments, $f^{(n)}(0) = 0$ for all $n$.

This example shows that $C^\infty$ functions can have very subtle behavior!

##### Constructing Derivative Functions: Methods and Meaning

Understanding how to construct derivative functions—both theoretically and practically—provides insights into the nature
of differentiation and its applications.

**Methods for Finding Derivative Functions**:

1. **From the Definition**: Direct application of the limit
    - Rigorous but often tedious
    - Essential for proving differentiation rules
    - Provides deepest understanding
2. **Using Differentiation Rules**: Apply known formulas
    - Efficient for computation
    - Requires recognizing patterns
    - Most common practical method
3. **Implicit Differentiation**: For implicitly defined functions
    - Handles relations not solved for $y$
    - Reveals hidden derivatives
4. **Numerical Differentiation**: Approximate using finite differences
    - For data without formulas
    - Subject to round-off errors
    - Various schemes for accuracy
5. **Symbolic Computation**: Computer algebra systems
    - Handles complex expressions
    - Exact results
    - Can miss simplifications

**Example - Multiple Methods**: Find the derivative of $f(x) = \frac{1}{x}$.

_Method 1 - Definition_:
$$f'(x) = \lim_{h \to 0} \frac{\frac{1}{x+h} - \frac{1}{x}}{h} = \lim_{h \to 0} \frac{\frac{x - (x+h)}{x(x+h)}}{h} = \lim_{h \to 0} \frac{-h}{hx(x+h)} = \lim_{h \to 0} \frac{-1}{x(x+h)} = -\frac{1}{x^2}$$

_Method 2 - Power Rule_: Write $f(x) = x^{-1}$ and apply the power rule: $$f'(x) = -1 \cdot x^{-2} = -\frac{1}{x^2}$$

_Method 3 - Quotient Rule_: Write $f(x) = \frac{1}{x}$ and apply quotient rule:
$$f'(x) = \frac{0 \cdot x - 1 \cdot 1}{x^2} = -\frac{1}{x^2}$$

Each method yields the same result but offers different insights.

**Meaning of the Derivative Function**: The derivative function $f'$ encodes:

1. **Local Linear Approximation**: Near $x = a$, $f(x) \approx f(a) + f'(a)(x-a)$
2. **Rate of Change**: $f'(x)$ gives instantaneous rate at each point
3. **Geometric Information**: Slopes of all tangent lines
4. **Optimization Data**: Critical points where $f'(x) = 0$
5. **Monotonicity**: Where $f$ increases or decreases

```mermaid
flowchart LR
    A["Function f(x)"] --> B["Differentiate"]
    B --> C["Derivative f'(x)"]
    C --> D["Information Extracted"]
    D --> E["Critical Points<br>f'(x) = 0"]
    D --> F["Increasing/Decreasing<br>Sign of f'(x)"]
    D --> G["Rate of Change<br>Value of f'(x)"]
    D --> H["Concavity<br>via f''(x)"]

    style A fill:#FFE0B2
    style B fill:#FFCC80
    style C fill:#FFB74D
    style D fill:#FFA726
    style E fill:#FF9800
    style F fill:#F57C00
    style G fill:#E65100
    style H fill:#D84315
```

#### Differentiation Formulas

Having established the theoretical foundation, we now develop the practical tools for differentiation. These formulas
transform the potentially laborious process of computing derivatives from the definition into an efficient algorithmic
procedure.

##### The Power Rule: Foundation of Algebraic Differentiation

The power rule is perhaps the most fundamental differentiation formula, serving as the basis for differentiating all
polynomial and many other functions.

**Theorem (Power Rule)**: For any real number $n$ and $x > 0$ (or $x \neq 0$ if $n$ is a positive integer):
$$\frac{d}{dx}[x^n] = nx^{n-1}$$

**Proof for Positive Integer $n$**: We'll use the binomial theorem and the definition of derivative.

For $f(x) = x^n$: $$f'(x) = \lim_{h \to 0} \frac{(x+h)^n - x^n}{h}$$

By the binomial theorem:
$$(x+h)^n = \sum_{k=0}^{n} \binom{n}{k} x^{n-k}h^k = x^n + nx^{n-1}h + \binom{n}{2}x^{n-2}h^2 + \cdots + h^n$$

Therefore: $$f'(x) = \lim_{h \to 0} \frac{x^n + nx^{n-1}h + \binom{n}{2}x^{n-2}h^2 + \cdots + h^n - x^n}{h}$$

$$= \lim_{h \to 0} \frac{nx^{n-1}h + \binom{n}{2}x^{n-2}h^2 + \cdots + h^n}{h}$$

$$= \lim_{h \to 0} \left(nx^{n-1} + \binom{n}{2}x^{n-2}h + \cdots + h^{n-1}\right)$$

$$= nx^{n-1}$$

**Extension to Rational Exponents**: For $n = p/q$ where $p, q$ are integers with $q > 0$:

Let $y = x^{p/q}$, so $y^q = x^p$. Differentiating implicitly: $$q y^{q-1} \frac{dy}{dx} = px^{p-1}$$

$$\frac{dy}{dx} = \frac{px^{p-1}}{qy^{q-1}} = \frac{px^{p-1}}{q(x^{p/q})^{q-1}} = \frac{px^{p-1}}{qx^{p(q-1)/q}} = \frac{p}{q}x^{p-1-p(q-1)/q} = \frac{p}{q}x^{(p/q)-1}$$

This proves the power rule for rational exponents.

**Extension to All Real Exponents**: For arbitrary real $n$, we can use the exponential function: $$x^n = e^{n\ln x}$$

Differentiating:
$$\frac{d}{dx}[x^n] = \frac{d}{dx}[e^{n\ln x}] = e^{n\ln x} \cdot \frac{n}{x} = x^n \cdot \frac{n}{x} = nx^{n-1}$$

**Special Cases and Examples**:

1. $\frac{d}{dx}[x^0] = \frac{d}{dx}[1] = 0$ (consistent with $n = 0$)
2. $\frac{d}{dx}[x^1] = 1$ (identity function)
3. $\frac{d}{dx}[x^{-1}] = -x^{-2} = -\frac{1}{x^2}$
4. $\frac{d}{dx}[\sqrt{x}] = \frac{d}{dx}[x^{1/2}] = \frac{1}{2}x^{-1/2} = \frac{1}{2\sqrt{x}}$
5. $\frac{d}{dx}[x^{\pi}] = \pi x^{\pi-1}$

**Common Mistakes to Avoid**:

- Forgetting to subtract 1 from the exponent
- Mishandling negative exponents
- Confusing $\frac{d}{dx}[a^x]$ with $\frac{d}{dx}[x^a]$

##### Linearity of Differentiation: Sum and Constant Multiple Rules

Differentiation is a linear operation, meaning it preserves addition and scalar multiplication. This property
dramatically simplifies finding derivatives of complex expressions.

**Theorem (Constant Multiple Rule)**: If $f$ is differentiable and $c$ is a constant, then:
$$\frac{d}{dx}[cf(x)] = c\frac{d}{dx}[f(x)]$$

**Proof**: Using the definition of derivative:
$$\frac{d}{dx}[cf(x)] = \lim_{h \to 0} \frac{cf(x+h) - cf(x)}{h} = \lim_{h \to 0} c\cdot\frac{f(x+h) - f(x)}{h} = c\lim_{h \to 0} \frac{f(x+h) - f(x)}{h} = cf'(x)$$

**Theorem (Sum Rule)**: If $f$ and $g$ are differentiable, then:
$$\frac{d}{dx}[f(x) + g(x)] = \frac{d}{dx}[f(x)] + \frac{d}{dx}[g(x)]$$

**Proof**: $$\frac{d}{dx}[f(x) + g(x)] = \lim_{h \to 0} \frac{[f(x+h) + g(x+h)] - [f(x) + g(x)]}{h}$$

$$= \lim_{h \to 0} \frac{[f(x+h) - f(x)] + [g(x+h) - g(x)]}{h}$$

$$= \lim_{h \to 0} \left[\frac{f(x+h) - f(x)}{h} + \frac{g(x+h) - g(x)}{h}\right]$$

$$= \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} + \lim_{h \to 0} \frac{g(x+h) - g(x)}{h} = f'(x) + g'(x)$$

**Corollary (Difference Rule)**: $\frac{d}{dx}[f(x) - g(x)] = f'(x) - g'(x)$

**Theorem (General Linearity)**: For constants $a, b$ and differentiable functions $f, g$:
$$\frac{d}{dx}[af(x) + bg(x)] = af'(x) + bg'(x)$$

This extends to any finite linear combination.

**Example - Polynomial Differentiation**: Find the derivative of $p(x) = 3x^4 - 7x^2 + 5x - 2$.

Applying linearity and the power rule:
$$p'(x) = 3\frac{d}{dx}[x^4] - 7\frac{d}{dx}[x^2] + 5\frac{d}{dx}[x] - \frac{d}{dx}[2]$$
$$= 3(4x^3) - 7(2x) + 5(1) - 0$$ $$= 12x^3 - 14x + 5$$

**Significance of Linearity**:

1. **Computational Efficiency**: Differentiate term by term
2. **Theoretical Importance**: Differentiation is a linear operator
3. **Basis for Advanced Topics**: Functional analysis, differential operators
4. **Physical Interpretation**: Superposition principle in physics

##### Product Rule: When Functions Multiply

When functions are multiplied, their derivatives interact in a specific way captured by the product rule. This rule
reveals that the derivative of a product is not simply the product of derivatives.

**Theorem (Product Rule)**: If $f$ and $g$ are differentiable, then: $$\frac{d}{dx}[f(x)g(x)] = f'(x)g(x) + f(x)g'(x)$$

**Proof**: We need to compute: $$\lim_{h \to 0} \frac{f(x+h)g(x+h) - f(x)g(x)}{h}$$

The key insight is to add and subtract $f(x+h)g(x)$:
$$\frac{f(x+h)g(x+h) - f(x)g(x)}{h} = \frac{f(x+h)g(x+h) - f(x+h)g(x) + f(x+h)g(x) - f(x)g(x)}{h}$$

$$= \frac{f(x+h)[g(x+h) - g(x)] + g(x)[f(x+h) - f(x)]}{h}$$

$$= f(x+h)\frac{g(x+h) - g(x)}{h} + g(x)\frac{f(x+h) - f(x)}{h}$$

Taking the limit as $h \to 0$:

- $f(x+h) \to f(x)$ (by continuity of $f$ at $x$)
- $\frac{g(x+h) - g(x)}{h} \to g'(x)$
- $\frac{f(x+h) - f(x)}{h} \to f'(x)$

Therefore: $$\frac{d}{dx}[f(x)g(x)] = f(x)g'(x) + g(x)f'(x)$$

**Mnemonic**: "The derivative of a product is the first times the derivative of the second plus the second times the
derivative of the first."

**Example**: Find the derivative of $h(x) = x^2\sin x$.

Let $f(x) = x^2$ and $g(x) = \sin x$. Then $f'(x) = 2x$ and $g'(x) = \cos x$.

By the product rule: $$h'(x) = f'(x)g(x) + f(x)g'(x) = 2x\sin x + x^2\cos x$$

**Extension to Multiple Products**: For three functions:
$$\frac{d}{dx}[f(x)g(x)h(x)] = f'(x)g(x)h(x) + f(x)g'(x)h(x) + f(x)g(x)h'(x)$$

In general, for $n$ functions:
$$\frac{d}{dx}[f_1(x)f_2(x)\cdots f_n(x)] = \sum_{i=1}^{n} f_1(x)\cdots f_{i-1}(x)f_i'(x)f_{i+1}(x)\cdots f_n(x)$$

**Geometric Interpretation**: The product rule can be understood through areas. If $f(x)$ and $g(x)$ represent lengths
of sides of a rectangle, then $f(x)g(x)$ is the area. The rate of change of area equals:

- Rate of change of first side times second side
- Plus first side times rate of change of second side

This captures how area changes when both dimensions vary.

##### Quotient Rule: Division and Its Complexities

The quotient rule handles derivatives of rational functions, showing how rates of change interact when one function
divides another.

**Theorem (Quotient Rule)**: If $f$ and $g$ are differentiable and $g(x) \neq 0$, then:
$$\frac{d}{dx}\left[\frac{f(x)}{g(x)}\right] = \frac{f'(x)g(x) - f(x)g'(x)}{[g(x)]^2}$$

**Proof Method 1 - From Definition**:
$$\frac{d}{dx}\left[\frac{f(x)}{g(x)}\right] = \lim_{h \to 0} \frac{\frac{f(x+h)}{g(x+h)} - \frac{f(x)}{g(x)}}{h}$$

$$= \lim_{h \to 0} \frac{f(x+h)g(x) - f(x)g(x+h)}{hg(x+h)g(x)}$$

Adding and subtracting $f(x)g(x)$:
$$= \lim_{h \to 0} \frac{f(x+h)g(x) - f(x)g(x) + f(x)g(x) - f(x)g(x+h)}{hg(x+h)g(x)}$$

$$= \lim_{h \to 0} \frac{g(x)[f(x+h) - f(x)] - f(x)[g(x+h) - g(x)]}{hg(x+h)g(x)}$$

$$= \lim_{h \to 0} \frac{g(x)\frac{f(x+h) - f(x)}{h} - f(x)\frac{g(x+h) - g(x)}{h}}{g(x+h)g(x)}$$

Taking the limit: $$= \frac{g(x)f'(x) - f(x)g'(x)}{[g(x)]^2}$$

**Proof Method 2 - Using Product Rule**: Write $\frac{f(x)}{g(x)} = f(x) \cdot [g(x)]^{-1}$ and differentiate:

First, find $\frac{d}{dx}[g(x)]^{-1}$ using the chain rule:
$$\frac{d}{dx}[g(x)]^{-1} = -[g(x)]^{-2} \cdot g'(x) = -\frac{g'(x)}{[g(x)]^2}$$

Now apply the product rule:
$$\frac{d}{dx}\left[\frac{f(x)}{g(x)}\right] = f'(x) \cdot \frac{1}{g(x)} + f(x) \cdot \left(-\frac{g'(x)}{[g(x)]^2}\right)$$

$$= \frac{f'(x)}{g(x)} - \frac{f(x)g'(x)}{[g(x)]^2} = \frac{f'(x)g(x) - f(x)g'(x)}{[g(x)]^2}$$

**Mnemonic**: "Low d-high minus high d-low, all over low squared" where:

- "Low" refers to the denominator
- "High" refers to the numerator
- "d" means derivative

**Example**: Find the derivative of $h(x) = \frac{x^2 + 1}{x - 3}$.

Let $f(x) = x^2 + 1$ and $g(x) = x - 3$. Then $f'(x) = 2x$ and $g'(x) = 1$.

By the quotient rule:
$$h'(x) = \frac{(2x)(x-3) - (x^2+1)(1)}{(x-3)^2} = \frac{2x^2 - 6x - x^2 - 1}{(x-3)^2} = \frac{x^2 - 6x - 1}{(x-3)^2}$$

**Common Errors**:

1. Forgetting to square the denominator
2. Getting the order wrong in the numerator (it matters!)
3. Simplifying incorrectly

##### Building a Differentiation Toolkit

With the fundamental rules established, we can now differentiate a vast array of functions efficiently. Let's compile
these rules and add some important special cases.

**Complete Differentiation Rules**:

1. **Constant Rule**: $\frac{d}{dx}[c] = 0$
2. **Power Rule**: $\frac{d}{dx}[x^n] = nx^{n-1}$
3. **Constant Multiple**: $\frac{d}{dx}[cf(x)] = cf'(x)$
4. **Sum Rule**: $\frac{d}{dx}[f(x) + g(x)] = f'(x) + g'(x)$
5. **Product Rule**: $\frac{d}{dx}[f(x)g(x)] = f'(x)g(x) + f(x)g'(x)$
6. **Quotient Rule**: $\frac{d}{dx}\left[\frac{f(x)}{g(x)}\right] = \frac{f'(x)g(x) - f(x)g'(x)}{[g(x)]^2}$
7. **Chain Rule**: $\frac{d}{dx}[f(g(x))] = f'(g(x))g'(x)$ (to be covered in detail)

**Standard Derivatives to Memorize**:

- $\frac{d}{dx}[e^x] = e^x$
- $\frac{d}{dx}[\ln x] = \frac{1}{x}$
- $\frac{d}{dx}[\sin x] = \cos x$
- $\frac{d}{dx}[\cos x] = -\sin x$
- $\frac{d}{dx}[\tan x] = \sec^2 x$
- $\frac{d}{dx}[\sec x] = \sec x \tan x$
- $\frac{d}{dx}[\arcsin x] = \frac{1}{\sqrt{1-x^2}}$
- $\frac{d}{dx}[\arctan x] = \frac{1}{1+x^2}$

**Strategies for Complex Functions**:

1. **Identify Structure**: Determine which rules apply
2. **Break Down**: Separate into simpler components
3. **Apply Rules Systematically**: Work from outside in or inside out
4. **Simplify**: Algebraic simplification often reveals patterns
5. **Check**: Verify special cases or use alternative methods

**Example - Combining Multiple Rules**: Find the derivative of $f(x) = \frac{x^2\sin x}{x + 1}$.

This requires both product and quotient rules. Let's call the numerator $u(x) = x^2\sin x$ and denominator
$v(x) = x + 1$.

First, find $u'(x)$ using the product rule: $$u'(x) = 2x\sin x + x^2\cos x$$

And $v'(x) = 1$.

Now apply the quotient rule: $$f'(x) = \frac{u'(x)v(x) - u(x)v'(x)}{[v(x)]^2}$$

$$= \frac{(2x\sin x + x^2\cos x)(x + 1) - x^2\sin x \cdot 1}{(x + 1)^2}$$

$$= \frac{2x^2\sin x + 2x\sin x + x^3\cos x + x^2\cos x - x^2\sin x}{(x + 1)^2}$$

$$= \frac{x^2\sin x + 2x\sin x + x^3\cos x + x^2\cos x}{(x + 1)^2}$$

$$= \frac{x\sin x(x + 2) + x^2\cos x(x + 1)}{(x + 1)^2}$$

This systematic approach handles even complex expressions efficiently.

```mermaid
flowchart TD
    A["Complex Function"] --> B{Identify Structure}
    B --> C["Sum/Difference?<br>Use Sum Rule"]
    B --> D["Product?<br>Use Product Rule"]
    B --> E["Quotient?<br>Use Quotient Rule"]
    B --> F["Composition?<br>Use Chain Rule"]
    B --> G["Power?<br>Use Power Rule"]

    C --> H["Differentiate<br>Term by Term"]
    D --> I["f'g + fg'"]
    E --> J["(f'g - fg')/g²"]
    F --> K["f'(g(x))·g'(x)"]
    G --> L["nx^(n-1)"]

    style A fill:#E8F5E9
    style B fill:#C8E6C9
    style C fill:#A5D6A7
    style D fill:#81C784
    style E fill:#66BB6A
    style F fill:#4CAF50
    style G fill:#43A047
    style H fill:#B2DFDB
    style I fill:#80CBC4
    style J fill:#4DB6AC
    style K fill:#26A69A
    style L fill:#009688
```

#### Derivatives of Trigonometric Functions

Trigonometric functions model periodic phenomena throughout science and engineering. Their derivatives reveal how these
periodic behaviors change, providing essential tools for analyzing waves, oscillations, and rotational motion.

##### Fundamental Limits and Basic Derivatives

Before deriving the derivatives of trigonometric functions, we must establish two fundamental limits that serve as the
foundation for all trigonometric differentiation.

**Fundamental Limit 1**: $$\lim_{h \to 0} \frac{\sin h}{h} = 1$$

**Geometric Proof**: Consider a unit circle with a central angle $h$ (in radians) where $0 < h < \pi/2$.

```mermaid
flowchart TD
    A["Unit circle with angle h"] --> B["Area comparisons:<br>Triangle OAP < Sector OAP < Triangle OAT"]
    B --> C["(1/2)sin(h) < (1/2)h < (1/2)tan(h)"]
    C --> D["sin(h) < h < tan(h)"]
    D --> E["Divide by sin(h):<br>1 < h/sin(h) < 1/cos(h)"]
    E --> F["Take reciprocals:<br>cos(h) < sin(h)/h < 1"]
    F --> G["As h → 0, cos(h) → 1<br>By Squeeze Theorem:<br>lim[h→0] sin(h)/h = 1"]

    style A fill:#E3F2FD
    style B fill:#BBDEFB
    style C fill:#90CAF9
    style D fill:#64B5F6
    style E fill:#42A5F5
    style F fill:#2196F3
    style G fill:#1E88E5
```

In this diagram:

- Point A is at $(cos h, sin h)$
- Point T is where the tangent line meets the vertical line through $(1,0)$
- The areas satisfy: $\frac{1}{2}\sin h < \frac{1}{2}h < \frac{1}{2}\tan h$

Since $\cos h < \frac{\sin h}{h} < 1$ and $\lim_{h \to 0} \cos h = 1$, the Squeeze Theorem gives us
$\lim_{h \to 0} \frac{\sin h}{h} = 1$.

For negative $h$, we use the fact that $\frac{\sin(-h)}{-h} = \frac{-\sin h}{-h} = \frac{\sin h}{h}$, so the limit holds
from both sides.

**Fundamental Limit 2**: $$\lim_{h \to 0} \frac{1 - \cos h}{h} = 0$$

**Algebraic Proof**:
$$\frac{1 - \cos h}{h} = \frac{1 - \cos h}{h} \cdot \frac{1 + \cos h}{1 + \cos h} = \frac{1 - \cos^2 h}{h(1 + \cos h)} = \frac{\sin^2 h}{h(1 + \cos h)}$$

$$= \frac{\sin h}{h} \cdot \frac{\sin h}{1 + \cos h}$$

As $h \to 0$:

- $\frac{\sin h}{h} \to 1$ (by Fundamental Limit 1)
- $\sin h \to 0$
- $1 + \cos h \to 2$

Therefore: $\lim_{h \to 0} \frac{1 - \cos h}{h} = 1 \cdot \frac{0}{2} = 0$

**Alternative Form**: $$\lim_{h \to 0} \frac{1 - \cos h}{h^2} = \frac{1}{2}$$

This follows from:
$$\frac{1 - \cos h}{h^2} = \frac{\sin^2 h}{h^2(1 + \cos h)} = \left(\frac{\sin h}{h}\right)^2 \cdot \frac{1}{1 + \cos h} \to 1^2 \cdot \frac{1}{2} = \frac{1}{2}$$

##### The Sine and Cosine Connection

With these fundamental limits established, we can now derive the derivatives of sine and cosine.

**Theorem**: $\frac{d}{dx}[\sin x] = \cos x$

**Proof**: Using the definition of derivative: $$\frac{d}{dx}[\sin x] = \lim_{h \to 0} \frac{\sin(x+h) - \sin x}{h}$$

Using the
